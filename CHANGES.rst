Changelog for Sequence
======================

.. towncrier release notes start

0.5.0 (2022-06-29)
------------------

New Tutorial Notebooks
``````````````````````

- Added a tutorial notebook that demonstrates the use of the new ``Sequence``
  class and how one can build, run and dynamically modify a new *sequence*
  model from a series of process components. (`#51 <https://github.com/sequence-dev/sequence/issues/51>`_)


New Features
````````````

- Added several new setters to ``SedimentFlexure`` that allows a user to
  dynamically change paramters while the model is running. These include:
  sediment densities (sand and mud), and water density. (`#45 <https://github.com/sequence-dev/sequence/issues/45>`_)
- Added *water_density* as an input parameter to ``SedimentFlexure``. (`#45 <https://github.com/sequence-dev/sequence/issues/45>`_)
- Added a new function, ``plot_grid``, that plots the output of a *sequence*
  model from Python. This serves as the programmatic equivalent of the
  ``sequence plot`` command-line program. (`#50 <https://github.com/sequence-dev/sequence/issues/50>`_)
- Added a new module ``sequence.processes`` that holds all processes that can
  be used to construct a new *sequence* model. (`#50 <https://github.com/sequence-dev/sequence/issues/50>`_)
- Added ``Sequence`` class that allows a user to construct and run *sequence*
  models within a Python environment and dynamically change input variables. (`#50 <https://github.com/sequence-dev/sequence/issues/50>`_)
- Added a ``SequenceModelGrid`` class, based on a *landlab* ``RasterModelGrid``,
  that creates a grid that can be used for creating new *sequence* models. (`#50 <https://github.com/sequence-dev/sequence/issues/50>`_)
- Added a new method, *run*, to *Sequence* that allows a user to run the model
  until a given time and with a given time step. (`#54 <https://github.com/sequence-dev/sequence/issues/54>`_)


Bug Fixes
`````````

- Fixed a bug where the sea floor was not plotted in some situations. (`#46 <https://github.com/sequence-dev/sequence/issues/46>`_)
- Fixed a bug where the ``Compact`` component would fail to run because
  porosity was not being tracked within layers. (`#51 <https://github.com/sequence-dev/sequence/issues/51>`_)


Other Changes and Additions
```````````````````````````

- Updated the ``SedimentFlexure`` component to be compatible with the latest
  version of *landlab*. (`#45 <https://github.com/sequence-dev/sequence/issues/45>`_)
- Added unit tests for the ``SedimentFlexure`` component. (`#45 <https://github.com/sequence-dev/sequence/issues/45>`_)
- Upgraded Python syntax to 3.8 and above. (`#47 <https://github.com/sequence-dev/sequence/issues/47>`_)
- Setup of pre-commit for the project that runs *black*, *flake8*, and
  *pyupgrade* (for Python 3.8+). (`#48 <https://github.com/sequence-dev/sequence/issues/48>`_)
- Added GitHub Actions workflows for releasing Sequence to PyPI and TestPyPI
  (for pre-releases). This allows users to run ``pip install sequence`` to get
  the latest release. (`#49 <https://github.com/sequence-dev/sequence/issues/49>`_)
- Updated the pre-commit hooks to ensure notebooks are clean and styled
  correctly. (`#51 <https://github.com/sequence-dev/sequence/issues/51>`_)
- Added a GitHub Actions workflow that tests the *sequence* notebooks. The
  notebooks are simply executed to ensure they run, not to validate any output. (`#52 <https://github.com/sequence-dev/sequence/issues/52>`_)
- Added a citation file that users of *sequence* can use to cite the software. (`#53 <https://github.com/sequence-dev/sequence/issues/53>`_)


0.4.1 (2022-04-12)
------------------

New Features
````````````

- Added ``--silent`` option to supress status messages and the progress bar. (`#30 <https://github.com/sequence-dev/sequence/issues/30>`_)


Bug Fixes
`````````

- Fixed a bug where, instead of writing the current model time, *Sequence* was
  writing the model time step number to the output file as the *time* variable. (`#34 <https://github.com/sequence-dev/sequence/issues/34>`_)
- Fixed a bug that incorrectly determined the shore and shelf edge at startigraphic layers
  when writing *netCDF* output. This was only an issue when *Sequence* had averaged buried layers. (`#37 <https://github.com/sequence-dev/sequence/issues/37>`_)
- Changed the defaults generated by ``sequence setup`` to create a set of input
  files that generate output that can be plotted by ``sequence plot``. (`#39 <https://github.com/sequence-dev/sequence/issues/39>`_)
- Fixed a bug that caused the ``sequence plot`` command to fail if the entire profile
  was above sea level. (`#40 <https://github.com/sequence-dev/sequence/issues/40>`_)


Other Changes and Additions
```````````````````````````

- Fixed continuous integration tests by removing lint, limit numpy version. (`#30 <https://github.com/sequence-dev/sequence/issues/30>`_)
- Modified requirements file to exclude numpy versions that caused a core dump when running Sequence with the compaction component. (`#31 <https://github.com/sequence-dev/sequence/issues/31>`_)
- Setup Sequence to use towncrier to manage the changelog. (`#32 <https://github.com/sequence-dev/sequence/issues/32>`_)
- Setup `towncrier <https://github.com/twisted/towncrier>`_ to manage the chagnelog. (`#33 <https://github.com/sequence-dev/sequence/issues/33>`_)
- The ``sequence plot`` command now prints a better error message if the
  *netCDF* output file being plotted is missing a required variable. (`#39 <https://github.com/sequence-dev/sequence/issues/39>`_)
- Added Python 3.10 to the continuous integration tests. (`#42 <https://github.com/sequence-dev/sequence/issues/42>`_)


0.4.0 (2021-07-26)
------------------

New Features
````````````

- Added "plot" subcommand to sequence for plotting stratigraphic output
  from a netcdf file. (`#25 <https://github.com/sequence-dev/sequence/issues/25>`_)


Bug Fixes
`````````

- Fixed layer interpolation when plotting. (`#28 <https://github.com/sequence-dev/sequence/issues/28>`_)


Documentation Enhancements
``````````````````````````

- Updated README documentation. Added descriptions of the
  sequence.grid and sequence.output sections for the
  sequence.toml file, and added documentation for the plot
  subcommand (`#27 <https://github.com/sequence-dev/sequence/issues/27>`_)


Other Changes and Additions
```````````````````````````

- Changed to use GitHub Actions for continuous integration. (`#26 <https://github.com/sequence-dev/sequence/issues/26>`_)


0.3.0 (2020-08-11)
------------------

New Features
````````````

- Added more time-varying parameters to SubmarineDiffuser. (`#24 <https://github.com/sequence-dev/sequence/issues/24>`_)


Documentation Enhancements
``````````````````````````

- Improved documentation for time-varying parameters. (`#23 <https://github.com/sequence-dev/sequence/issues/23>`_)


0.2.0 (2020-07-30)
------------------

New Features
````````````

- Added support for toml-formatted input files and is now the default. (`#1 <https://github.com/sequence-dev/sequence/issues/1>`_)
- Added time varying parameters. (`#18 <https://github.com/sequence-dev/sequence/issues/18>`_)
- Allow subsidence to vary with time. (`#21 <https://github.com/sequence-dev/sequence/issues/21>`_)


Other Changes and Additions
```````````````````````````

- Fixed CI on Travis and AppVeyor. (`#18 <https://github.com/sequence-dev/sequence/issues/18>`_)
- Use readthedocs file to configure documentation building. (`#19 <https://github.com/sequence-dev/sequence/issues/19>`_)
- Changed to use landlab version 2 components. (`#20 <https://github.com/sequence-dev/sequence/issues/20>`_)
- Added lots of new tests, particularly for reading/writing configuration files. (`#21 <https://github.com/sequence-dev/sequence/issues/21>`_)


0.1.2 (2020-03-04)
------------------ 

- Added sediment compaction

- Updated installation docs (#17)

- Update sequence documentation (#16)

- Added AppVeyor CI for Windows testing (#15)

- Fixed failing shelf edge tests (#14)

- Added examples to sequence cli help message

- Added Python 3.8 support and testing; remove Python 2.7

- Add setup/show/run subcommands to the sequence CLI

- Updated for landlab v2 pre-release version

- Added hemipelagic parameter to sediments section of configuration file

- Bug fixes

- Added ability to read a user-supplied sea level file

- Enhance CI testing

- Added ability to write output at intervals (#11)

- Write a subset of variable fields to netcdf output files


0.1.1 (2018-08-24)
------------------ 
- Added versioneer for version management


0.1.0 (2018-08-24)
------------------ 

- Initial release

