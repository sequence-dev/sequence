name: Documentation

on:
    push:
        paths:
            - "docs/**"
            - "AUTHORS.rst"
            - "CHANGES.rst"
            - "CONTRIBUTING.rst"
            - "LICENSE.rst"
            - "README.rst"
    pull_request:
        paths:
            - "docs/**"
            - "AUTHORS.rst"
            - "CHANGES.rst"
            - "CONTRIBUTING.rst"
            - "LICENSE.rst"
            - "README.rst"

    jobs:
        build:
            runs-on: ubuntu-latest
            steps:
                - uses: actions/checkout@v2
            
                  - name: Set up Python 3.9
                    uses: actions/setup-python@v2
                    with:
                      python-version: 3.9
            
                  - name: Install dependencies
                    run: |
                      python -m pip install --upgrade pip setuptools wheel
                      python -m pip install -e "."
                      python -m pip install -r "requirements-docs.txt"
                  - name: Build documentation
                    run: make -C docs clean html            